<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/intro.min.css" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <header>
    <title>ESA 3 : Kellerautomat</title>
  </header>

  <body>
    <h1>ESA 3 : Kellerautomat zur Erkennung arithmetischer Ausdrücke</h1>
    <div id="button_panel">
      <button
        id="btn-genValid"
        class="rec_button primary_button"
        onclick="genValid()"
      >
        Gültiger Ausdruck
      </button>
      <button
        id="btn-genInvalid"
        class="rec_button secondary_button"
        onclick="genInvalid()"
      >
        Ungültiger Ausdruck
      </button>
      <input
        type="text"
        size="50"
        placeholder="Button drücken oder einen Ausdruck eingeben"
        id="input_expression"
        onchange="setupButtonStates('STOPPED'); checkInput();"
      />
      <button
        id="btn-play"
        class="sq_button secondary_button"
        onclick="playClick();"
      >
        &#9654;
      </button>
      <button
        id="btn-pause"
        class="sq_button secondary_button"
        onclick="playClick();"
      >
        ||
      </button>
      <button
        id="btn-step"
        class="sq_button secondary_button"
        onclick="stepClick();"
      >
        &#187;
      </button>
      <button
        id="btn-cancel"
        onClick="window.location.reload();"
        class="sq_button secondary_button"
      >
        &#11035;
      </button>
      <select id="drp-speed">
        <option value="5">Schnell</option>
        <option selected="selected" value="500">Normal</option>
        <option value="5000">Langsam</option>
      </select>
      <button
        id="btn-tour"
        class="rec_button secondary_button"
        onclick="tourClick();"
      >
        Tour
      </button>
      <button
        id="btn-doc"
        class="rec_button secondary_button"
        onclick="window.location.href='doc.html';"
      >
        Dokumentation
      </button>
    </div>

    <div id="main_content">
      <div id="column_content">
        <svg
          width="800"
          height="600"
          version="1.1"
          viewBox="0 0 89.8 47.2"
          xmlns="http://www.w3.org/2000/svg"
        >
          <defs>
            <marker id="p" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="f" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="n" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="m" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="l" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="k" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="j" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="g" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
            <marker id="o" style="overflow: visible" orient="auto">
              <path
                transform="matrix(.8 0 0 .8 -4.8 0)"
                d="m5.77 0-8.65 5v-10z"
                style="
                  fill-rule: evenodd;
                  fill: #fff;
                  stroke-width: 1pt;
                  stroke: #000;
                "
              />
            </marker>
          </defs>
          <g transform="translate(-14.4 -238)">
            <g id="node_q1">
              <circle
                cx="18.3"
                cy="257"
                r="3.61"
                style="fill: none; stroke-width: 0.529; stroke: #000"
              />
              <text
                id="text828"
                x="15.031866"
                y="258.05701"
                style="
                  fill: #000000;
                  font-size: 3.18px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826"
                  transform="matrix(.891 0 0 .931 1.74 17.6)"
                  x="15.031866"
                  y="258.05701"
                  style="
                    font-size: 3.49px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  q1*
                </tspan>
              </text>
            </g>
            <g id="node_q2" transform="translate(71.8,3.38)">
              <circle
                cx="-18.5"
                cy="238"
                r="3.61"
                style="fill: none; stroke-width: 0.25; stroke: #000"
              />
              <text
                id="text828-3"
                x="-21.006857"
                y="238.98869"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-4"
                  x="-21.006857"
                  y="238.98869"
                  style="
                    font-family: monospace;
                    font-size: 4.23px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  q2
                </tspan>
              </text>
              <circle
                cx="-18.5"
                cy="238"
                r="3.08"
                style="fill: none; stroke-width: 0.205; stroke: #000"
              />
            </g>
            <g id="node_q3" transform="translate(71.8,35.1)">
              <circle
                cx="-18.5"
                cy="238"
                r="3.61"
                style="fill: none; stroke-width: 0.25; stroke: #000"
              />
              <text
                id="text828-3-1"
                x="-21.006857"
                y="238.98869"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-4-5"
                  x="-21.006857"
                  y="238.98869"
                  style="
                    font-family: monospace;
                    font-size: 4.23px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  q3
                </tspan>
              </text>
              <circle
                cx="-18.5"
                cy="238"
                r="3.08"
                style="fill: none; stroke-width: 0.205; stroke: #000"
              />
            </g>
            <g id="node_q4" transform="translate(71.8,3.36)">
              <circle
                cx="15.8"
                cy="254"
                r="3.61"
                style="fill: none; stroke-width: 0.529; stroke: #000"
              />
              <text
                id="text828-8"
                x="13.229842"
                y="255.16692"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-9"
                  x="13.229842"
                  y="255.16692"
                  style="
                    font-family: monospace;
                    font-size: 4.23px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  q4
                </tspan>
              </text>
            </g>
            <g id="t_q1_q2_0">
              <text
                id="text828-80-6"
                x="27.27177"
                y="248.03258"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9"
                  x="27.27177"
                  y="248.03258"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  Z,ε→ε
                </tspan>
              </text>
              <path
                d="m21 255 28.7-12.6"
                style="
                  fill: none;
                  marker-end: url(#p);
                  stroke-width: 0.265;
                  stroke: #000;
                "
              />
            </g>
            <g id="t_q4_q2_0">
              <text
                id="text828-80"
                x="73.24485"
                y="241.40634"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2"
                  x="73.24485"
                  y="241.40634"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  Z,ε→ε
                </tspan>
              </text>
              <path
                d="m85.9 254s-6.81-8.67-11.6-11c-5.24-2.58-17.3-2.68-17.3-2.68"
                style="
                  fill: none;
                  marker-end: url(#m);
                  stroke-width: 0.265px;
                  stroke: #000;
                "
              />
            </g>
            <g id="t_q3_q2_0" transform="matrix(1 0 0 .989 -.243 2.91)">
              <text
                id="text828-80-66"
                x="60.061203"
                y="258.99387"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-99"
                  x="60.061203"
                  y="258.99387"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  Z,ε→ε
                </tspan>
              </text>
              <path
                d="m55.2 270s4.45-7.6 4.54-11.8c0.102-4.85-4.64-13.8-4.64-13.8"
                style="
                  fill: none;
                  marker-end: url(#n);
                  stroke-width: 0.265px;
                  stroke: #000;
                "
              />
            </g>
            <g id="t_q2_q4_0">
              <path
                d="m56.5 242s8.39 5.97 13 8.19c4.79 2.3 15.1 5.23 15.1 5.23"
                style="
                  fill: none;
                  marker-end: url(#l);
                  stroke-width: 0.265px;
                  stroke: #000;
                "
              />
              <text
                id="text828-80-6-7"
                x="67.242752"
                y="248.41055"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4"
                  x="67.242752"
                  y="248.41055"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  O,ε→ε
                </tspan>
              </text>
            </g>
            <g id="t_q1_q3_0">
              <path
                d="m20.9 260 28.5 12.6"
                style="
                  fill: none;
                  marker-end: url(#g);
                  stroke-width: 0.265px;
                  stroke: #000;
                "
              />
              <text
                id="text828-80-6-7-9"
                x="24.708324"
                y="267.82388"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4-5"
                  x="24.708324"
                  y="267.82388"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  (,ε→X
                </tspan>
              </text>
            </g>
            <g id="t_q4_q3_0">
              <path
                d="m85.4 261s-6.65 7.56-11 9.8c-5.38 2.75-17.7 3.9-17.7 3.9"
                style="
                  fill: none;
                  marker-end: url(#k);
                  stroke-width: 0.265px;
                  stroke: #000;
                "
              />
              <text
                id="text828-80-6-7-8"
                x="75.45163"
                y="272.07614"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4-57"
                  x="75.45163"
                  y="272.07614"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  Z,ε→ε;
                </tspan>
                <tspan
                  id="tspan826-2-9-4-57"
                  x="75.45163"
                  y="275.07614"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  ε,ε→ε
                </tspan>
              </text>
            </g>
            <g id="t_q3_q4_0">
              <path
                d="m56.8 272s10.5-6.89 16.1-9.51c3.58-1.66 11.2-3.9 11.2-3.9"
                style="
                  fill: none;
                  marker-end: url(#j);
                  stroke-width: 0.265px;
                  stroke: #000;
                "
              />
              <text
                id="text828-80-6-7-93"
                x="69.18795"
                y="267.0679"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4-54"
                  x="69.18795"
                  y="257.0679"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  O,ε→ε;
                </tspan>
                <tspan
                  id="tspan826-2-9-4-54"
                  x="69.18795"
                  y="260.0679"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  ε,ε→ε
                </tspan>
              </text>
            </g>
            <g id="t_q2_q3_0" transform="matrix(1.05 0 0 .971 -1.87 7.04)">
              <path
                d="m51.5 245s-4.59 7.9-4.72 12.3c-0.143 4.62 4.17 13.2 4.17 13.2"
                style="
                  fill: none;
                  marker-end: url(#f);
                  stroke-miterlimit: 0;
                  stroke-width: 0.265;
                  stroke: #000;
                "
              />
              <text
                id="text828-80-6-7-1"
                x="37.815926"
                y="257.80753"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4-6"
                  x="37.815926"
                  y="257.80753"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  ),X→ε
                </tspan>
              </text>
            </g>
            <g id="t_q3_q3_0">
              <text
                id="text828-80-6-7-9-8"
                x="47.913021"
                y="284.47211"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4-5-0"
                  x="47.913021"
                  y="284.47211"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  (,ε→X
                </tspan>
              </text>
              <path
                d="m50.5 276s-3.28 9.05 3.88 5.77c7.16-3.28 1.29-4.89 1.29-4.89l-0.831-0.554"
                style="
                  fill: none;
                  marker-end: url(#f);
                  stroke-width: 0.265;
                  stroke: #000;
                "
              />
            </g>
            <g id="t_q4_q4_0">
              <path
                d="m89.8 261s5.64 5.69 6.13-2.17c0.493-7.86-3.7-3.45-3.7-3.45l-0.881 0.47"
                style="
                  fill: none;
                  marker-end: url(#o);
                  stroke-width: 0.265;
                  stroke: #000;
                "
              />
              <text
                id="text828-80-6-7-9-8-3"
                x="95.973129"
                y="258.89548"
                style="
                  fill: #000000;
                  font-size: 5.64px;
                  font-weight: bold;
                  stroke-width: 0.265;
                "
              >
                <tspan
                  id="tspan826-2-9-4-5-0-2"
                  x="95.973129"
                  y="258.89548"
                  style="
                    font-family: monospace;
                    font-size: 2.82px;
                    font-weight: bold;
                    stroke-width: 0.265;
                  "
                >
                  ),X→ε
                </tspan>
              </text>
            </g>
          </g>
        </svg>
        <table id="output-table">
          <thead>
            <tr>
              <th>Q</th>
              <th>Σ<sub>e</sub></th>
              <th>Γ<sub>e</sub></th>
              <th>P(Q × Γ<sub>e</sub>)</th>
            </tr>
          </thead>
          <tbody>
            <tr id="r_q1_q2_0">
              <td>q1</td>
              <td>Z</td>
              <td>ε</td>
              <td>{(q2,ε)}</td>
            </tr>
            <tr id="r_q1_q3_0">
              <td>q1</td>
              <td>(</td>
              <td>ε</td>
              <td>{(q3,X)}</td>
            </tr>
            <tr id="r_q2_q3_0">
              <td>q2</td>
              <td>)</td>
              <td>X</td>
              <td>{(q3,ε)}</td>
            </tr>
            <tr id="r_q2_q4_0">
              <td>q2</td>
              <td>O</td>
              <td>ε</td>
              <td>{(q4,ε)}</td>
            </tr>
            <tr id="r_q3_q2_0">
              <td>q3</td>
              <td>Z</td>
              <td>ε</td>
              <td>{(q2,ε)}</td>
            </tr>
            <tr id="r_q3_q3_0">
              <td>q3</td>
              <td>(</td>
              <td>ε</td>
              <td>{(q3,X)}</td>
            </tr>
            <tr id="r_q3_q3_1">
              <td>q3</td>
              <td>)</td>
              <td>X</td>
              <td>{(q3,ε)}</td>
            </tr>
            <tr id="r_q3_q4_0">
              <td>q3</td>
              <td>O</td>
              <td>X</td>
              <td>{(q4,ε)}</td>
            </tr>
            <tr id="r_q4_q2_0">
              <td>q4</td>
              <td>Z</td>
              <td>ε</td>
              <td>{(q2,ε)}</td>
            </tr>
            <tr id="r_q4_q3_0">
              <td>q4</td>
              <td>(</td>
              <td>ε</td>
              <td>{(q3,X)}</td>
            </tr>
          </tbody>
        </table>
        <table id="cellar-table">
          <thead>
            <tr>
              <th>Aktueller Keller</th>
            </tr>
          </thead>
          <tbody id="cellar-table-body">
            <tr></tr>
          </tbody>
        </table>
      </div>

      <div>
        <p style="margin: 8px">
          Der Ausdruck wird mit dem oben gezeigten Kellerautomaten validiert: K
          = (Q, Σ, Γ, δ, S, F) mit Q = {q1,q2,q3,q4}, Σ = {Z,O,(,)}, δ = s.
          Tabelle, S = q1 und F = {q2,q3}}
        </p>
      </div>
    </div>
    <script src="./js/intro.min.js"></script>
    <script src="./js/utils.js"></script>
    <script src="./js/generator.js"></script>
    <script src="./js/automaton.js"></script>
    <script src="./js/main.js"></script>
  </body>
</html>
